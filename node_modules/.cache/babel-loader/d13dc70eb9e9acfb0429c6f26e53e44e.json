{"remainingRequest":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\babel-loader\\lib\\index.js!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\src\\store\\modules\\d2admin\\modules\\account.js","dependencies":[{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\src\\store\\modules\\d2admin\\modules\\account.js","mtime":1593434353518},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1Byb2pla3RlL3Z1ZS1hZG1pbi9kMi1hZG1pbi1zdGFydC1raXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBNZXNzYWdlLCBNZXNzYWdlQm94IH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCB1dGlsIGZyb20gJ0AvbGlicy91dGlsLmpzJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmltcG9ydCBhcGkgZnJvbSAnQC9hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBhY3Rpb25zOiB7CiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g55m75b2VDQogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCB1c2VybmFtZSB7U3RyaW5nfSDnlKjmiLfotKblj7cNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBwYXNzd29yZCB7U3RyaW5nfSDlr4bnoIENCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCByb3V0ZSB7T2JqZWN0fSDnmbvlvZXmiJDlip/lkI7lrprlkJHnmoTot6/nlLHlr7nosaEg5Lu75L2VIHZ1ZS1yb3V0ZXIg5pSv5oyB55qE5qC85byPDQogICAgICovCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZikgewogICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50czsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIF9yZWYyLCBfcmVmMiR1c2VybmFtZSwgdXNlcm5hbWUsIF9yZWYyJHBhc3N3b3JkLCBwYXNzd29yZCwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICBfcmVmMiA9IF9hcmd1bWVudHMubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzFdIDoge30sIF9yZWYyJHVzZXJuYW1lID0gX3JlZjIudXNlcm5hbWUsIHVzZXJuYW1lID0gX3JlZjIkdXNlcm5hbWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZjIkdXNlcm5hbWUsIF9yZWYyJHBhc3N3b3JkID0gX3JlZjIucGFzc3dvcmQsIHBhc3N3b3JkID0gX3JlZjIkcGFzc3dvcmQgPT09IHZvaWQgMCA/ICcnIDogX3JlZjIkcGFzc3dvcmQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuU1lTX1VTRVJfTE9HSU4oewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvLyDorr7nva4gY29va2llIOS4gOWumuimgeWtmCB1dWlkIOWSjCB0b2tlbiDkuKTkuKogY29va2llCiAgICAgICAgICAgICAgICAvLyDmlbTkuKrns7vnu5/kvp3otZbov5nkuKTkuKrmlbDmja7ov5vooYzmoKHpqozlkozlrZjlgqgKICAgICAgICAgICAgICAgIC8vIHV1aWQg5piv55So5oi36Lqr5Lu95ZSv5LiA5qCH6K+GIOeUqOaIt+azqOWGjOeahOaXtuWAmeehruWumiDlubbkuJTkuI3lj6/mlLnlj5gg5LiN5Y+v6YeN5aSNCiAgICAgICAgICAgICAgICAvLyB0b2tlbiDku6PooajnlKjmiLflvZPliY3nmbvlvZXnirbmgIEg5bu66K6u5Zyo572R57uc6K+35rGC5Lit5pC65bimIHRva2VuCiAgICAgICAgICAgICAgICAvLyDlpoLmnInlv4XopoEgdG9rZW4g6ZyA6KaB5a6a5pe25pu05paw77yM6buY6K6k5L+d5a2Y5LiA5aSpCiAgICAgICAgICAgICAgICB1dGlsLmNvb2tpZXMuc2V0KCd1dWlkJywgcmVzLnV1aWQpOwogICAgICAgICAgICAgICAgdXRpbC5jb29raWVzLnNldCgndG9rZW4nLCByZXMudG9rZW4pOyAvLyDorr7nva4gdnVleCDnlKjmiLfkv6Hmga8KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZDJhZG1pbi91c2VyL3NldCcsIHsKICAgICAgICAgICAgICAgICAgbmFtZTogcmVzLm5hbWUKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnbG9hZCcpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5rOo6ZSA55So5oi35bm26L+U5Zue55m75b2V6aG16Z2iDQogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBjb25maXJtIHtCb29sZWFufSDmmK/lkKbpnIDopoHnoa7orqQNCiAgICAgKi8KICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoOwoKICAgICAgdmFyIF9yZWY0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSwKICAgICAgICAgIF9yZWY0JGNvbmZpcm0gPSBfcmVmNC5jb25maXJtLAogICAgICAgICAgY29uZmlybSA9IF9yZWY0JGNvbmZpcm0gPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjQkY29uZmlybTsKCiAgICAgIC8qKg0KICAgICAgICogQGRlc2NyaXB0aW9uIOazqOmUgA0KICAgICAgICovCiAgICAgIGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgICByZXR1cm4gX2xvZ291dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9IC8vIOWIpOaWreaYr+WQpumcgOimgeehruiupAoKCiAgICAgIGZ1bmN0aW9uIF9sb2dvdXQoKSB7CiAgICAgICAgX2xvZ291dCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAvLyDliKDpmaRjb29raWUKICAgICAgICAgICAgICAgICAgdXRpbC5jb29raWVzLnJlbW92ZSgndG9rZW4nKTsKICAgICAgICAgICAgICAgICAgdXRpbC5jb29raWVzLnJlbW92ZSgndXVpZCcpOyAvLyDmuIXnqbogdnVleCDnlKjmiLfkv6Hmga8KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL3VzZXIvc2V0Jywge30sIHsKICAgICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgLy8g6Lez6L2s6Lev55SxCiAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbG9naW4nCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gX2xvZ291dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICBpZiAoY29uZmlybSkgewogICAgICAgIGNvbW1pdCgnZDJhZG1pbi9ncmF5L3NldCcsIHRydWUsIHsKICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICB9KTsKICAgICAgICBNZXNzYWdlQm94LmNvbmZpcm0oJ+ehruWumuimgeazqOmUgOW9k+WJjeeUqOaIt+WQlycsICfms6jplIDnlKjmiLcnLCB7CiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbW1pdCgnZDJhZG1pbi9ncmF5L3NldCcsIGZhbHNlLCB7CiAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgbG9nb3V0KCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgY29tbWl0KCdkMmFkbWluL2dyYXkvc2V0JywgZmFsc2UsIHsKICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBNZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOazqOmUgOaTjeS9nCcKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGxvZ291dCgpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDnlKjmiLfnmbvlvZXlkI7ku47mjIHkuYXljJbmlbDmja7liqDovb3kuIDns7vliJfnmoTorr7nva4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dA0KICAgICAqLwogICAgbG9hZDogZnVuY3Rpb24gbG9hZChfcmVmNSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZGlzcGF0Y2g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2QyYWRtaW4vdXNlci9sb2FkJywgbnVsbCwgewogICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL3RoZW1lL2xvYWQnLCBudWxsLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2QyYWRtaW4vdHJhbnNpdGlvbi9sb2FkJywgbnVsbCwgewogICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL3BhZ2Uvb3BlbmVkTG9hZCcsIG51bGwsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2QyYWRtaW4vbWVudS9hc2lkZUxvYWQnLCBudWxsLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZDJhZG1pbi9zaXplL2xvYWQnLCBudWxsLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZDJhZG1pbi9jb2xvci9sb2FkJywgbnVsbCwgewogICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Projekte/vue-admin/d2-admin-start-kit/src/store/modules/d2admin/modules/account.js"],"names":["Message","MessageBox","util","router","api","namespaced","actions","login","dispatch","username","password","SYS_USER_LOGIN","res","cookies","set","uuid","token","name","root","logout","commit","confirm","remove","push","type","then","catch","message","load"],"mappings":";;;AAAA,SAASA,OAAT,EAAkBC,UAAlB,QAAoC,YAApC;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,OAAO,EAAE;AACP;;;;;;;AAOMC,IAAAA,KARC,uBAWC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAHOC,gBAAAA,QAGP,QAHOA,QAGP;AAAA,+FAAJ,EAAI,yBAFNC,QAEM,EAFNA,QAEM,+BAFK,EAEL,0CADNC,QACM,EADNA,QACM,+BADK,EACL;AAAA;AAAA,uBACYN,GAAG,CAACO,cAAJ,CAAmB;AAAEF,kBAAAA,QAAQ,EAARA,QAAF;AAAYC,kBAAAA,QAAQ,EAARA;AAAZ,iBAAnB,CADZ;;AAAA;AACAE,gBAAAA,GADA;AAEN;AACA;AACA;AACA;AACA;AACAV,gBAAAA,IAAI,CAACW,OAAL,CAAaC,GAAb,CAAiB,MAAjB,EAAyBF,GAAG,CAACG,IAA7B;AACAb,gBAAAA,IAAI,CAACW,OAAL,CAAaC,GAAb,CAAiB,OAAjB,EAA0BF,GAAG,CAACI,KAA9B,EARM,CASN;;AATM;AAAA,uBAUAR,QAAQ,CAAC,kBAAD,EAAqB;AAAES,kBAAAA,IAAI,EAAEL,GAAG,CAACK;AAAZ,iBAArB,EAAyC;AAAEC,kBAAAA,IAAI,EAAE;AAAR,iBAAzC,CAVR;;AAAA;AAAA;AAAA,uBAYAV,QAAQ,CAAC,MAAD,CAZR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaP,KAxBM;;AAyBP;;;;;AAKAW,IAAAA,MA9BO,yBA8BiD;AAAA,UAA9CC,MAA8C,SAA9CA,MAA8C;AAAA,UAAtCZ,QAAsC,SAAtCA,QAAsC;;AAAA,sFAAJ,EAAI;AAAA,gCAAxBa,OAAwB;AAAA,UAAxBA,OAAwB,8BAAd,KAAc;;AACtD;;;AADsD,eAIvCF,MAJuC;AAAA;AAAA,QAatD;;;AAbsD;AAAA,0EAItD;AAAA;AAAA;AAAA;AAAA;AACE;AACAjB,kBAAAA,IAAI,CAACW,OAAL,CAAaS,MAAb,CAAoB,OAApB;AACApB,kBAAAA,IAAI,CAACW,OAAL,CAAaS,MAAb,CAAoB,MAApB,EAHF,CAIE;;AAJF;AAAA,yBAKQd,QAAQ,CAAC,kBAAD,EAAqB,EAArB,EAAyB;AAAEU,oBAAAA,IAAI,EAAE;AAAR,mBAAzB,CALhB;;AAAA;AAME;AACAf,kBAAAA,MAAM,CAACoB,IAAP,CAAY;AAAEN,oBAAAA,IAAI,EAAE;AAAR,mBAAZ;;AAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAJsD;AAAA;AAAA;;AActD,UAAII,OAAJ,EAAa;AACXD,QAAAA,MAAM,CAAC,kBAAD,EAAqB,IAArB,EAA2B;AAAEF,UAAAA,IAAI,EAAE;AAAR,SAA3B,CAAN;AACAjB,QAAAA,UAAU,CAACoB,OAAX,CAAmB,YAAnB,EAAiC,MAAjC,EAAyC;AAAEG,UAAAA,IAAI,EAAE;AAAR,SAAzC,EACGC,IADH,CACQ,YAAM;AACVL,UAAAA,MAAM,CAAC,kBAAD,EAAqB,KAArB,EAA4B;AAAEF,YAAAA,IAAI,EAAE;AAAR,WAA5B,CAAN;AACAC,UAAAA,MAAM;AACP,SAJH,EAKGO,KALH,CAKS,YAAM;AACXN,UAAAA,MAAM,CAAC,kBAAD,EAAqB,KAArB,EAA4B;AAAEF,YAAAA,IAAI,EAAE;AAAR,WAA5B,CAAN;AACAlB,UAAAA,OAAO,CAAC;AAAE2B,YAAAA,OAAO,EAAE;AAAX,WAAD,CAAP;AACD,SARH;AASD,OAXD,MAWO;AACLR,QAAAA,MAAM;AACP;AACF,KA1DM;;AA2DP;;;;AAIMS,IAAAA,IA/DC,uBA+DmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAZpB,gBAAAA,QAAY,SAAZA,QAAY;AAAA;AAAA,uBAElBA,QAAQ,CAAC,mBAAD,EAAsB,IAAtB,EAA4B;AAAEU,kBAAAA,IAAI,EAAE;AAAR,iBAA5B,CAFU;;AAAA;AAAA;AAAA,uBAIlBV,QAAQ,CAAC,oBAAD,EAAuB,IAAvB,EAA6B;AAAEU,kBAAAA,IAAI,EAAE;AAAR,iBAA7B,CAJU;;AAAA;AAAA;AAAA,uBAMlBV,QAAQ,CAAC,yBAAD,EAA4B,IAA5B,EAAkC;AAAEU,kBAAAA,IAAI,EAAE;AAAR,iBAAlC,CANU;;AAAA;AAAA;AAAA,uBAQlBV,QAAQ,CAAC,yBAAD,EAA4B,IAA5B,EAAkC;AAAEU,kBAAAA,IAAI,EAAE;AAAR,iBAAlC,CARU;;AAAA;AAAA;AAAA,uBAUlBV,QAAQ,CAAC,wBAAD,EAA2B,IAA3B,EAAiC;AAAEU,kBAAAA,IAAI,EAAE;AAAR,iBAAjC,CAVU;;AAAA;AAAA;AAAA,uBAYlBV,QAAQ,CAAC,mBAAD,EAAsB,IAAtB,EAA4B;AAAEU,kBAAAA,IAAI,EAAE;AAAR,iBAA5B,CAZU;;AAAA;AAAA;AAAA,uBAclBV,QAAQ,CAAC,oBAAD,EAAuB,IAAvB,EAA6B;AAAEU,kBAAAA,IAAI,EAAE;AAAR,iBAA7B,CAdU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAezB;AA9EM;AAFI,CAAf","sourcesContent":["import { Message, MessageBox } from 'element-ui'\r\nimport util from '@/libs/util.js'\r\nimport router from '@/router'\r\nimport api from '@/api'\r\n\r\nexport default {\r\n  namespaced: true,\r\n  actions: {\r\n    /**\r\n     * @description 登录\r\n     * @param {Object} context\r\n     * @param {Object} payload username {String} 用户账号\r\n     * @param {Object} payload password {String} 密码\r\n     * @param {Object} payload route {Object} 登录成功后定向的路由对象 任何 vue-router 支持的格式\r\n     */\r\n    async login ({ dispatch }, {\r\n      username = '',\r\n      password = ''\r\n    } = {}) {\r\n      const res = await api.SYS_USER_LOGIN({ username, password })\r\n      // 设置 cookie 一定要存 uuid 和 token 两个 cookie\r\n      // 整个系统依赖这两个数据进行校验和存储\r\n      // uuid 是用户身份唯一标识 用户注册的时候确定 并且不可改变 不可重复\r\n      // token 代表用户当前登录状态 建议在网络请求中携带 token\r\n      // 如有必要 token 需要定时更新，默认保存一天\r\n      util.cookies.set('uuid', res.uuid)\r\n      util.cookies.set('token', res.token)\r\n      // 设置 vuex 用户信息\r\n      await dispatch('d2admin/user/set', { name: res.name }, { root: true })\r\n      // 用户登录后从持久化数据加载一系列的设置\r\n      await dispatch('load')\r\n    },\r\n    /**\r\n     * @description 注销用户并返回登录页面\r\n     * @param {Object} context\r\n     * @param {Object} payload confirm {Boolean} 是否需要确认\r\n     */\r\n    logout ({ commit, dispatch }, { confirm = false } = {}) {\r\n      /**\r\n       * @description 注销\r\n       */\r\n      async function logout () {\r\n        // 删除cookie\r\n        util.cookies.remove('token')\r\n        util.cookies.remove('uuid')\r\n        // 清空 vuex 用户信息\r\n        await dispatch('d2admin/user/set', {}, { root: true })\r\n        // 跳转路由\r\n        router.push({ name: 'login' })\r\n      }\r\n      // 判断是否需要确认\r\n      if (confirm) {\r\n        commit('d2admin/gray/set', true, { root: true })\r\n        MessageBox.confirm('确定要注销当前用户吗', '注销用户', { type: 'warning' })\r\n          .then(() => {\r\n            commit('d2admin/gray/set', false, { root: true })\r\n            logout()\r\n          })\r\n          .catch(() => {\r\n            commit('d2admin/gray/set', false, { root: true })\r\n            Message({ message: '取消注销操作' })\r\n          })\r\n      } else {\r\n        logout()\r\n      }\r\n    },\r\n    /**\r\n     * @description 用户登录后从持久化数据加载一系列的设置\r\n     * @param {Object} context\r\n     */\r\n    async load ({ dispatch }) {\r\n      // 加载用户名\r\n      await dispatch('d2admin/user/load', null, { root: true })\r\n      // 加载主题\r\n      await dispatch('d2admin/theme/load', null, { root: true })\r\n      // 加载页面过渡效果设置\r\n      await dispatch('d2admin/transition/load', null, { root: true })\r\n      // 持久化数据加载上次退出时的多页列表\r\n      await dispatch('d2admin/page/openedLoad', null, { root: true })\r\n      // 持久化数据加载侧边栏配置\r\n      await dispatch('d2admin/menu/asideLoad', null, { root: true })\r\n      // 持久化数据加载全局尺寸\r\n      await dispatch('d2admin/size/load', null, { root: true })\r\n      // 持久化数据加载颜色设置\r\n      await dispatch('d2admin/color/load', null, { root: true })\r\n    }\r\n  }\r\n}\r\n"]}]}