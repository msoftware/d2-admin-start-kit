{"remainingRequest":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\babel-loader\\lib\\index.js!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\src\\router\\index.js","dependencies":[{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\src\\router\\index.js","mtime":1593435051087},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592891886067},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\babel-loader\\lib\\index.js","mtime":1592891886030},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\eslint-loader\\index.js","mtime":1592891895300}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Qcm9qZWt0ZS92dWUtYWRtaW4vZDItYWRtaW4tc3RhcnQta2l0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOyAvLyDov5vluqbmnaEKCmltcG9ydCBOUHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJzsKaW1wb3J0ICducHJvZ3Jlc3MvbnByb2dyZXNzLmNzcyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlL2luZGV4JzsKaW1wb3J0IHV0aWwgZnJvbSAnQC9saWJzL3V0aWwuanMnOyAvLyDot6/nlLHmlbDmja4KCmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMnOyAvLyBmaXggdnVlLXJvdXRlciBOYXZpZ2F0aW9uRHVwbGljYXRlZAoKdmFyIFZ1ZVJvdXRlclB1c2ggPSBWdWVSb3V0ZXIucHJvdG90eXBlLnB1c2g7CgpWdWVSb3V0ZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7CiAgcmV0dXJuIFZ1ZVJvdXRlclB1c2guY2FsbCh0aGlzLCBsb2NhdGlvbikuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgcmV0dXJuIGVycjsKICB9KTsKfTsKCnZhciBWdWVSb3V0ZXJSZXBsYWNlID0gVnVlUm91dGVyLnByb3RvdHlwZS5yZXBsYWNlOwoKVnVlUm91dGVyLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShsb2NhdGlvbikgewogIHJldHVybiBWdWVSb3V0ZXJSZXBsYWNlLmNhbGwodGhpcywgbG9jYXRpb24pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgIHJldHVybiBlcnI7CiAgfSk7Cn07CgpWdWUudXNlKFZ1ZVJvdXRlcik7IC8vIOWvvOWHuui3r+eUsSDlnKggbWFpbi5qcyDph4zkvb/nlKgKCnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXM6IHJvdXRlcwp9KTsKLyoqDQogKiDot6/nlLHmi6bmiKoNCiAqIOadg+mZkOmqjOivgQ0KICovCgpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bywgZnJvbSwgbmV4dCkgewogICAgdmFyIHRva2VuOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdkMmFkbWluL3BhZ2UvaXNMb2FkZWQnKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2QyYWRtaW4vc2l6ZS9pc0xvYWRlZCcpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgLy8g6L+b5bqm5p2hCiAgICAgICAgICAgIE5Qcm9ncmVzcy5zdGFydCgpOyAvLyDlhbPpl63mkJzntKLpnaLmnb8KCiAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgnZDJhZG1pbi9zZWFyY2gvc2V0JywgZmFsc2UpOyAvLyDpqozor4HlvZPliY3ot6/nlLHmiYDmnInnmoTljLnphY3kuK3mmK/lkKbpnIDopoHmnInnmbvlvZXpqozor4HnmoQKCiAgICAgICAgICAgIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgICByZXR1cm4gci5tZXRhLmF1dGg7CiAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgLy8g6L+Z6YeM5pqC5pe25bCGY29va2ll6YeM5piv5ZCm5a2Y5pyJdG9rZW7kvZzkuLrpqozor4HmmK/lkKbnmbvlvZXnmoTmnaHku7YKICAgICAgICAgICAgICAvLyDor7fmoLnmja7oh6rouqvkuJrliqHpnIDopoHkv67mlLkKICAgICAgICAgICAgICB0b2tlbiA9IHV0aWwuY29va2llcy5nZXQoJ3Rva2VuJyk7CgogICAgICAgICAgICAgIGlmICh0b2tlbiAmJiB0b2tlbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8g5rKh5pyJ55m75b2V55qE5pe25YCZ6Lez6L2s5Yiw55m75b2V55WM6Z2iCiAgICAgICAgICAgICAgICAvLyDmkLrluKbkuIrnmbvpmYbmiJDlip/kuYvlkI7pnIDopoHot7PovaznmoTpobXpnaLlrozmlbTot6/lvoQKICAgICAgICAgICAgICAgIG5leHQoewogICAgICAgICAgICAgICAgICBuYW1lOiAnbG9naW4nLAogICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiB0by5mdWxsUGF0aAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2QyLXByb2plY3RzL2QyLWFkbWluL2lzc3Vlcy8xMzgKCiAgICAgICAgICAgICAgICBOUHJvZ3Jlc3MuZG9uZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyDkuI3pnIDopoHouqvku73moKHpqowg55u05o6l6YCa6L+HCiAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAodG8pIHsKICAvLyDov5vluqbmnaEKICBOUHJvZ3Jlc3MuZG9uZSgpOyAvLyDlpJrpobXmjqfliLYg5omT5byA5paw55qE6aG16Z2iCgogIHN0b3JlLmRpc3BhdGNoKCdkMmFkbWluL3BhZ2Uvb3BlbicsIHRvKTsgLy8g5pu05pS55qCH6aKYCgogIHV0aWwudGl0bGUodG8ubWV0YS50aXRsZSk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Projekte/vue-admin/d2-admin-start-kit/src/router/index.js"],"names":["Vue","VueRouter","NProgress","store","util","routes","VueRouterPush","prototype","push","location","call","catch","err","VueRouterReplace","replace","use","router","beforeEach","to","from","next","dispatch","start","commit","matched","some","r","meta","auth","token","cookies","get","name","query","redirect","fullPath","done","afterEach","title"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP;AAEA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,IAAP,MAAiB,gBAAjB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CAEA;;AACA,IAAMC,aAAa,GAAGL,SAAS,CAACM,SAAV,CAAoBC,IAA1C;;AACAP,SAAS,CAACM,SAAV,CAAoBC,IAApB,GAA2B,SAASA,IAAT,CAAeC,QAAf,EAAyB;AAClD,SAAOH,aAAa,CAACI,IAAd,CAAmB,IAAnB,EAAyBD,QAAzB,EAAmCE,KAAnC,CAAyC,UAAAC,GAAG;AAAA,WAAIA,GAAJ;AAAA,GAA5C,CAAP;AACD,CAFD;;AAGA,IAAMC,gBAAgB,GAAGZ,SAAS,CAACM,SAAV,CAAoBO,OAA7C;;AACAb,SAAS,CAACM,SAAV,CAAoBO,OAApB,GAA8B,SAASA,OAAT,CAAkBL,QAAlB,EAA4B;AACxD,SAAOI,gBAAgB,CAACH,IAAjB,CAAsB,IAAtB,EAA4BD,QAA5B,EAAsCE,KAAtC,CAA4C,UAAAC,GAAG;AAAA,WAAIA,GAAJ;AAAA,GAA/C,CAAP;AACD,CAFD;;AAIAZ,GAAG,CAACe,GAAJ,CAAQd,SAAR,E,CAEA;;AACA,IAAMe,MAAM,GAAG,IAAIf,SAAJ,CAAc;AAC3BI,EAAAA,MAAM,EAANA;AAD2B,CAAd,CAAf;AAIA;;;;;AAIAW,MAAM,CAACC,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEVjB,KAAK,CAACkB,QAAN,CAAe,uBAAf,CAFU;;AAAA;AAAA;AAAA,mBAIVlB,KAAK,CAACkB,QAAN,CAAe,uBAAf,CAJU;;AAAA;AAKhB;AACAnB,YAAAA,SAAS,CAACoB,KAAV,GANgB,CAOhB;;AACAnB,YAAAA,KAAK,CAACoB,MAAN,CAAa,oBAAb,EAAmC,KAAnC,EARgB,CAShB;;AACA,gBAAIL,EAAE,CAACM,OAAH,CAAWC,IAAX,CAAgB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACC,IAAF,CAAOC,IAAX;AAAA,aAAjB,CAAJ,EAAuC;AACrC;AACA;AACMC,cAAAA,KAH+B,GAGvBzB,IAAI,CAAC0B,OAAL,CAAaC,GAAb,CAAiB,OAAjB,CAHuB;;AAIrC,kBAAIF,KAAK,IAAIA,KAAK,KAAK,WAAvB,EAAoC;AAClCT,gBAAAA,IAAI;AACL,eAFD,MAEO;AACL;AACA;AACAA,gBAAAA,IAAI,CAAC;AACHY,kBAAAA,IAAI,EAAE,OADH;AAEHC,kBAAAA,KAAK,EAAE;AACLC,oBAAAA,QAAQ,EAAEhB,EAAE,CAACiB;AADR;AAFJ,iBAAD,CAAJ,CAHK,CASL;;AACAjC,gBAAAA,SAAS,CAACkC,IAAV;AACD;AACF,aAlBD,MAkBO;AACL;AACAhB,cAAAA,IAAI;AACL;;AA/Be;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAkCAJ,MAAM,CAACqB,SAAP,CAAiB,UAAAnB,EAAE,EAAI;AACrB;AACAhB,EAAAA,SAAS,CAACkC,IAAV,GAFqB,CAGrB;;AACAjC,EAAAA,KAAK,CAACkB,QAAN,CAAe,mBAAf,EAAoCH,EAApC,EAJqB,CAKrB;;AACAd,EAAAA,IAAI,CAACkC,KAAL,CAAWpB,EAAE,CAACS,IAAH,CAAQW,KAAnB;AACD,CAPD;AASA,eAAetB,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\n// 进度条\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\n\r\nimport store from '@/store/index'\r\nimport util from '@/libs/util.js'\r\n\r\n// 路由数据\r\nimport routes from './routes'\r\n\r\n// fix vue-router NavigationDuplicated\r\nconst VueRouterPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push (location) {\r\n  return VueRouterPush.call(this, location).catch(err => err)\r\n}\r\nconst VueRouterReplace = VueRouter.prototype.replace\r\nVueRouter.prototype.replace = function replace (location) {\r\n  return VueRouterReplace.call(this, location).catch(err => err)\r\n}\r\n\r\nVue.use(VueRouter)\r\n\r\n// 导出路由 在 main.js 里使用\r\nconst router = new VueRouter({\r\n  routes\r\n})\r\n\r\n/**\r\n * 路由拦截\r\n * 权限验证\r\n */\r\nrouter.beforeEach(async (to, from, next) => {\r\n  // 确认已经加载多标签页数据 https://github.com/d2-projects/d2-admin/issues/201\r\n  await store.dispatch('d2admin/page/isLoaded')\r\n  // 确认已经加载组件尺寸设置 https://github.com/d2-projects/d2-admin/issues/198\r\n  await store.dispatch('d2admin/size/isLoaded')\r\n  // 进度条\r\n  NProgress.start()\r\n  // 关闭搜索面板\r\n  store.commit('d2admin/search/set', false)\r\n  // 验证当前路由所有的匹配中是否需要有登录验证的\r\n  if (to.matched.some(r => r.meta.auth)) {\r\n    // 这里暂时将cookie里是否存有token作为验证是否登录的条件\r\n    // 请根据自身业务需要修改\r\n    const token = util.cookies.get('token')\r\n    if (token && token !== 'undefined') {\r\n      next()\r\n    } else {\r\n      // 没有登录的时候跳转到登录界面\r\n      // 携带上登陆成功之后需要跳转的页面完整路径\r\n      next({\r\n        name: 'login',\r\n        query: {\r\n          redirect: to.fullPath\r\n        }\r\n      })\r\n      // https://github.com/d2-projects/d2-admin/issues/138\r\n      NProgress.done()\r\n    }\r\n  } else {\r\n    // 不需要身份校验 直接通过\r\n    next()\r\n  }\r\n})\r\n\r\nrouter.afterEach(to => {\r\n  // 进度条\r\n  NProgress.done()\r\n  // 多页控制 打开新的页面\r\n  store.dispatch('d2admin/page/open', to)\r\n  // 更改标题\r\n  util.title(to.meta.title)\r\n})\r\n\r\nexport default router\r\n"]}]}