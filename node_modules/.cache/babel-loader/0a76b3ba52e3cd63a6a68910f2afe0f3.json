{"remainingRequest":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\babel-loader\\lib\\index.js!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\src\\layout\\header-aside\\components\\panel-search\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\src\\layout\\header-aside\\components\\panel-search\\index.vue","mtime":1593434353510},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1Byb2pla3RlL3Z1ZS1hZG1pbi9kMi1hZG1pbi1zdGFydC1raXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Qcm9qZWt0ZS92dWUtYWRtaW4vZDItYWRtaW4tc3RhcnQta2l0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEZ1c2UgZnJvbSAnZnVzZS5qcyc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBtaXhpbiBmcm9tICcuLi9taXhpbi9tZW51JzsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW21peGluXSwKICBjb21wb25lbnRzOiB7CiAgICAnZDItcGFuZWwtc2VhcmNoLWl0ZW0nOiBmdW5jdGlvbiBkMlBhbmVsU2VhcmNoSXRlbSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi9jb21wb25lbnRzL3BhbmVsLXNlYXJjaC1pdGVtL2luZGV4LnZ1ZScpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFRleHQ6ICcnLAogICAgICByZXN1bHRzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdkMmFkbWluL3NlYXJjaCcsIFsnaG90a2V5JywgJ3Bvb2wnXSkpLCB7fSwgewogICAgLy8g6L+Z5Lu95pWw5o2u5piv5bGV56S65Zyo5pCc57Si6Z2i5p2/5LiL6Z2i55qECiAgICByZXN1bHRzTGlzdDogZnVuY3Rpb24gcmVzdWx0c0xpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLnJlc3VsdHMubGVuZ3RoID09PSAwICYmIHRoaXMuc2VhcmNoVGV4dCA9PT0gJycgPyB0aGlzLnBvb2wubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgdmFsdWU6IGUuZnVsbFRpdGxlCiAgICAgICAgfSwgZSk7CiAgICAgIH0pIDogdGhpcy5yZXN1bHRzOwogICAgfSwKICAgIC8vIOagueaNriBwb29sIOabtOaWsCBmdXNlIOWunuS+iwogICAgZnVzZTogZnVuY3Rpb24gZnVzZSgpIHsKICAgICAgcmV0dXJuIG5ldyBGdXNlKHRoaXMucG9vbCwgewogICAgICAgIHNob3VsZFNvcnQ6IHRydWUsCiAgICAgICAgdG9rZW5pemU6IHRydWUsCiAgICAgICAgdGhyZXNob2xkOiAwLjYsCiAgICAgICAgbG9jYXRpb246IDAsCiAgICAgICAgZGlzdGFuY2U6IDEwMCwKICAgICAgICBtYXhQYXR0ZXJuTGVuZ3RoOiAzMiwKICAgICAgICBtaW5NYXRjaENoYXJMZW5ndGg6IDEsCiAgICAgICAga2V5czogWydmdWxsVGl0bGUnLCAncGF0aCddCiAgICAgIH0pOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDov4fmu6TpgInpobkg6L+Z5Liq5pa55rOV5Zyo5q+P5qyh6L6T5YWl5qGG55qE5YC85Y+R55Sf5Y+Y5YyW5pe25Lya6Kem5Y+RDQogICAgICovCiAgICBxdWVyeVNlYXJjaDogZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnlTdHJpbmcsIGNhbGxiYWNrKSB7CiAgICAgIHZhciByZXN1bHRzID0gdGhpcy5mdXNlLnNlYXJjaChxdWVyeVN0cmluZykubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaXRlbTsKICAgICAgfSk7CiAgICAgIHRoaXMucmVzdWx0cyA9IHJlc3VsdHM7CiAgICAgIGNhbGxiYWNrKHJlc3VsdHMpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g6IGa54Sm6L6T5YWl5qGGDQogICAgICovCiAgICBmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmlucHV0ID0gJyc7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChfdGhpcy4kcmVmcy5pbnB1dCkgewogICAgICAgICAgX3RoaXMuJHJlZnMuaW5wdXQuZm9jdXMoKTsKICAgICAgICB9IC8vIOi/mOWOnwoKCiAgICAgICAgX3RoaXMuc2VhcmNoVGV4dCA9ICcnOwogICAgICAgIF90aGlzLnJlc3VsdHMgPSBbXTsKICAgICAgfSwgNTAwKTsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOaOpeaUtueUqOaIt+WcqOWIl+ihqOS4remAieaLqemhueebrueahOS6i+S7tg0KICAgICAqLwogICAgaGFuZGxlUmVzdWx0c0dyb3VwSXRlbUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVSZXN1bHRzR3JvdXBJdGVtQ2xpY2socGF0aCkgewogICAgICAvLyDlpoLmnpznlKjmiLfpgInmi6nnmoTlsLHmmK/lvZPliY3pobXpnaIg5bCx55u05o6l5YWz6Zet5pCc57Si6Z2i5p2/CiAgICAgIGlmIChwYXRoID09PSB0aGlzLiRyb3V0ZS5wYXRoKSB7CiAgICAgICAgdGhpcy5oYW5kbGVFc2MoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g55So5oi36YCJ5oup55qE5piv5YW25a6D6aG16Z2iCgoKICAgICAgdGhpcy5oYW5kbGVNZW51U2VsZWN0KHBhdGgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5o6l5pS255So5oi35Zyo5LiL5ouJ6I+c5Y2V5Lit6YCJ5Lit5LqL5Lu2DQogICAgICovCiAgICBoYW5kbGVTZWxlY3Q6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdChfcmVmKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGF0aDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXRoID0gX3JlZi5wYXRoOwoKICAgICAgICAgICAgICAgIGlmICghKHBhdGggPT09IF90aGlzMi4kcm91dGUucGF0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5oYW5kbGVFc2MoKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRuZXh0VGljaygpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpczIuaGFuZGxlTWVudVNlbGVjdChwYXRoKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAYXVnbWVudHMg5YWz6Zet6L6T5YWl5qGG55qE5LiL5ouJ6I+c5Y2VDQogICAgICovCiAgICBjbG9zZVN1Z2dlc3Rpb246IGZ1bmN0aW9uIGNsb3NlU3VnZ2VzdGlvbigpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuaW5wdXQuYWN0aXZhdGVkKSB7CiAgICAgICAgdGhpcy4kcmVmcy5pbnB1dC5zdWdnZXN0aW9ucyA9IFtdOwogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQuYWN0aXZhdGVkID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGF1Z21lbnRzIOaOpeaUtueUqOaIt+eCueWHu+epuueZveWMuuWfn+eahOWFs+mXrQ0KICAgICAqLwogICAgaGFuZGxlUGFuZWxDbGljazogZnVuY3Rpb24gaGFuZGxlUGFuZWxDbGljaygpIHsKICAgICAgdGhpcy5oYW5kbGVFc2MoKTsKICAgIH0sCgogICAgLyoqDQogICAgICogQGF1Z21lbnRzIOaOpeaUtueUqOaIt+inpuWPkeeahOWFs+mXrQ0KICAgICAqLwogICAgaGFuZGxlRXNjOiBmdW5jdGlvbiBoYW5kbGVFc2MoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5jbG9zZVN1Z2dlc3Rpb24oKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRuZXh0VGljaygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpczMuJGVtaXQoJ2Nsb3NlJyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"panel-search\" flex=\"dir:top\">\r\n    <div class=\"panel-search__input-group\" flex-box=\"0\" flex=\"dir:top main:center cross:center\" @click.self=\"handlePanelClick\">\r\n      <d2-icon-svg class=\"panel-search__logo\" name=\"d2-admin-text\"/>\r\n      <el-autocomplete\r\n        class=\"panel-search__input\"\r\n        ref=\"input\"\r\n        v-model=\"searchText\"\r\n        suffix-icon=\"el-icon-search\"\r\n        placeholder=\"搜索页面\"\r\n        :fetch-suggestions=\"querySearch\"\r\n        :trigger-on-focus=\"false\"\r\n        :clearable=\"true\"\r\n        @keydown.esc.native=\"handleEsc\"\r\n        @select=\"handleSelect\">\r\n        <d2-panel-search-item slot-scope=\"{ item }\" :item=\"item\"/>\r\n      </el-autocomplete>\r\n      <div class=\"panel-search__tip\">\r\n        您可以使用快捷键\r\n        <span class=\"panel-search__key\">{{hotkey.open}}</span>\r\n        唤醒搜索面板，按\r\n        <span class=\"panel-search__key\">{{hotkey.close}}</span>\r\n        关闭\r\n      </div>\r\n    </div>\r\n    <div v-if=\"resultsList.length > 0\" class=\"panel-search__results-group\" flex-box=\"1\">\r\n      <el-card shadow=\"never\">\r\n        <div class=\"panel-search__results-group-inner\">\r\n          <d2-panel-search-item\r\n            v-for=\"(item, index) in resultsList\"\r\n            :key=\"index\"\r\n            :item=\"item\"\r\n            :hover-mode=\"true\"\r\n            @click.native=\"handleResultsGroupItemClick(item.path)\"/>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Fuse from 'fuse.js'\r\nimport { mapState } from 'vuex'\r\nimport mixin from '../mixin/menu'\r\nexport default {\r\n  mixins: [\r\n    mixin\r\n  ],\r\n  components: {\r\n    'd2-panel-search-item': () => import('./components/panel-search-item/index.vue')\r\n  },\r\n  data () {\r\n    return {\r\n      searchText: '',\r\n      results: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('d2admin/search', [\r\n      'hotkey',\r\n      'pool'\r\n    ]),\r\n    // 这份数据是展示在搜索面板下面的\r\n    resultsList () {\r\n      return (this.results.length === 0 && this.searchText === '') ? this.pool.map(e => ({\r\n        value: e.fullTitle,\r\n        ...e\r\n      })) : this.results\r\n    },\r\n    // 根据 pool 更新 fuse 实例\r\n    fuse () {\r\n      return new Fuse(this.pool, {\r\n        shouldSort: true,\r\n        tokenize: true,\r\n        threshold: 0.6,\r\n        location: 0,\r\n        distance: 100,\r\n        maxPatternLength: 32,\r\n        minMatchCharLength: 1,\r\n        keys: [\r\n          'fullTitle',\r\n          'path'\r\n        ]\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * @description 过滤选项 这个方法在每次输入框的值发生变化时会触发\r\n     */\r\n    querySearch (queryString, callback) {\r\n      const results = this.fuse.search(queryString).map(e => e.item)\r\n      this.results = results\r\n      callback(results)\r\n    },\r\n    /**\r\n     * @description 聚焦输入框\r\n     */\r\n    focus () {\r\n      this.input = ''\r\n      setTimeout(() => {\r\n        if (this.$refs.input) {\r\n          this.$refs.input.focus()\r\n        }\r\n        // 还原\r\n        this.searchText = ''\r\n        this.results = []\r\n      }, 500)\r\n    },\r\n    /**\r\n     * @description 接收用户在列表中选择项目的事件\r\n     */\r\n    handleResultsGroupItemClick (path) {\r\n      // 如果用户选择的就是当前页面 就直接关闭搜索面板\r\n      if (path === this.$route.path) {\r\n        this.handleEsc()\r\n        return\r\n      }\r\n      // 用户选择的是其它页面\r\n      this.handleMenuSelect(path)\r\n    },\r\n    /**\r\n     * @description 接收用户在下拉菜单中选中事件\r\n     */\r\n    async handleSelect ({ path }) {\r\n      // 如果用户选择的就是当前页面 就直接关闭搜索面板\r\n      if (path === this.$route.path) {\r\n        this.handleEsc()\r\n        return\r\n      }\r\n      // 用户选择的是其它页面\r\n      await this.$nextTick()\r\n      this.handleMenuSelect(path)\r\n    },\r\n    /**\r\n     * @augments 关闭输入框的下拉菜单\r\n     */\r\n    closeSuggestion () {\r\n      if (this.$refs.input.activated) {\r\n        this.$refs.input.suggestions = []\r\n        this.$refs.input.activated = false\r\n      }\r\n    },\r\n    /**\r\n     * @augments 接收用户点击空白区域的关闭\r\n     */\r\n    handlePanelClick () {\r\n      this.handleEsc()\r\n    },\r\n    /**\r\n     * @augments 接收用户触发的关闭\r\n     */\r\n    async handleEsc () {\r\n      this.closeSuggestion()\r\n      await this.$nextTick()\r\n      this.$emit('close')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.panel-search {\r\n  margin: 20px;\r\n  width: 100%;\r\n  .panel-search__input-group {\r\n    height: 240px;\r\n    .panel-search__logo {\r\n      width: 80px;\r\n      height: 80px;\r\n      margin-bottom: 20px;\r\n    }\r\n    .panel-search__input {\r\n      width: 500px;\r\n    }\r\n    .panel-search__tip {\r\n      @extend %unable-select;\r\n      margin-top: 20px;\r\n      margin-bottom: 40px;\r\n      font-size: 12px;\r\n      color: $color-text-sub;\r\n      .panel-search__key {\r\n        padding: 1px 5px;\r\n        margin: 0px 2px;\r\n        border-radius: 2px;\r\n        background-color: $color-text-normal;\r\n        color: $color-bg;\r\n      }\r\n    }\r\n  }\r\n  .panel-search__results-group {\r\n    overflow: auto;\r\n    margin-bottom: -20px;\r\n    .panel-search__results-group-inner {\r\n      margin: -20px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/layout/header-aside/components/panel-search"}]}