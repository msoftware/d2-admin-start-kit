{"remainingRequest":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\babel-loader\\lib\\index.js!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\src\\layout\\header-aside\\mixins\\search.js","dependencies":[{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\src\\layout\\header-aside\\mixins\\search.js","mtime":1593435051103},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592891886067},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\babel-loader\\lib\\index.js","mtime":1592891886030},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\eslint-loader\\index.js","mtime":1592891895300}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1Byb2pla3RlL3Z1ZS1hZG1pbi9kMi1hZG1pbi1zdGFydC1raXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCBob3RrZXlzIGZyb20gJ2hvdGtleXMtanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgJ2QyLXBhbmVsLXNlYXJjaCc6IGZ1bmN0aW9uIGQyUGFuZWxTZWFyY2goKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvcGFuZWwtc2VhcmNoJyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyDnu5HlrprmkJzntKLlip/og73lv6vmjbfplK4gWyDmiZPlvIAgXQogICAgaG90a2V5cyh0aGlzLnNlYXJjaEhvdGtleS5vcGVuLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIF90aGlzLnNlYXJjaFBhbmVsT3BlbigpOwogICAgfSk7IC8vIOe7keWumuaQnOe0ouWKn+iDveW/q+aNt+mUriBbIOWFs+mXrSBdCgogICAgaG90a2V5cyh0aGlzLnNlYXJjaEhvdGtleS5jbG9zZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICBfdGhpcy5zZWFyY2hQYW5lbENsb3NlKCk7CiAgICB9KTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBob3RrZXlzLnVuYmluZCh0aGlzLnNlYXJjaEhvdGtleS5vcGVuKTsKICAgIGhvdGtleXMudW5iaW5kKHRoaXMuc2VhcmNoSG90a2V5LmNsb3NlKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnZDJhZG1pbicsIHsKICAgIHNlYXJjaEFjdGl2ZTogZnVuY3Rpb24gc2VhcmNoQWN0aXZlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zZWFyY2guYWN0aXZlOwogICAgfSwKICAgIHNlYXJjaEhvdGtleTogZnVuY3Rpb24gc2VhcmNoSG90a2V5KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zZWFyY2guaG90a2V5OwogICAgfQogIH0pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyh7CiAgICBzZWFyY2hUb2dnbGU6ICdkMmFkbWluL3NlYXJjaC90b2dnbGUnLAogICAgc2VhcmNoU2V0OiAnZDJhZG1pbi9zZWFyY2gvc2V0JwogIH0pKSwge30sIHsKICAgIC8qKg0KICAgICAqIOaOpeaUtueCueWHu+aQnOe0ouaMiemSrg0KICAgICAqLwogICAgaGFuZGxlU2VhcmNoQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaENsaWNrKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2VhcmNoVG9nZ2xlKCk7CgogICAgICBpZiAodGhpcy5zZWFyY2hBY3RpdmUpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChfdGhpczIuJHJlZnMucGFuZWxTZWFyY2gpIHsKICAgICAgICAgICAgX3RoaXMyLiRyZWZzLnBhbmVsU2VhcmNoLmZvY3VzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaFBhbmVsT3BlbjogZnVuY3Rpb24gc2VhcmNoUGFuZWxPcGVuKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5zZWFyY2hBY3RpdmUpIHsKICAgICAgICB0aGlzLnNlYXJjaFNldCh0cnVlKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChfdGhpczMuJHJlZnMucGFuZWxTZWFyY2gpIHsKICAgICAgICAgICAgX3RoaXMzLiRyZWZzLnBhbmVsU2VhcmNoLmZvY3VzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXreaQnOe0oumdouadvwogICAgc2VhcmNoUGFuZWxDbG9zZTogZnVuY3Rpb24gc2VhcmNoUGFuZWxDbG9zZSgpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoQWN0aXZlKSB7CiAgICAgICAgdGhpcy5zZWFyY2hTZXQoZmFsc2UpOwogICAgICB9CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["C:/Projekte/vue-admin/d2-admin-start-kit/src/layout/header-aside/mixins/search.js"],"names":["mapState","mapMutations","hotkeys","components","mounted","searchHotkey","open","event","preventDefault","searchPanelOpen","close","searchPanelClose","beforeDestroy","unbind","computed","searchActive","state","search","active","hotkey","methods","searchToggle","searchSet","handleSearchClick","setTimeout","$refs","panelSearch","focus"],"mappings":";;;;AAAA,SAASA,QAAT,EAAmBC,YAAnB,QAAuC,MAAvC;AAEA,OAAOC,OAAP,MAAoB,YAApB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE;AACV,uBAAmB;AAAA,aAAM,OAAO,4BAAP,CAAN;AAAA;AADT,GADC;AAIbC,EAAAA,OAJa,qBAIF;AAAA;;AACT;AACAF,IAAAA,OAAO,CAAC,KAAKG,YAAL,CAAkBC,IAAnB,EAAyB,UAAAC,KAAK,EAAI;AACvCA,MAAAA,KAAK,CAACC,cAAN;;AACA,MAAA,KAAI,CAACC,eAAL;AACD,KAHM,CAAP,CAFS,CAMT;;AACAP,IAAAA,OAAO,CAAC,KAAKG,YAAL,CAAkBK,KAAnB,EAA0B,UAAAH,KAAK,EAAI;AACxCA,MAAAA,KAAK,CAACC,cAAN;;AACA,MAAA,KAAI,CAACG,gBAAL;AACD,KAHM,CAAP;AAID,GAfY;AAgBbC,EAAAA,aAhBa,2BAgBI;AACfV,IAAAA,OAAO,CAACW,MAAR,CAAe,KAAKR,YAAL,CAAkBC,IAAjC;AACAJ,IAAAA,OAAO,CAACW,MAAR,CAAe,KAAKR,YAAL,CAAkBK,KAAjC;AACD,GAnBY;AAoBbI,EAAAA,QAAQ,oBACHd,QAAQ,CAAC,SAAD,EAAY;AACrBe,IAAAA,YAAY,EAAE,sBAAAC,KAAK;AAAA,aAAIA,KAAK,CAACC,MAAN,CAAaC,MAAjB;AAAA,KADE;AAErBb,IAAAA,YAAY,EAAE,sBAAAW,KAAK;AAAA,aAAIA,KAAK,CAACC,MAAN,CAAaE,MAAjB;AAAA;AAFE,GAAZ,CADL,CApBK;AA0BbC,EAAAA,OAAO,kCACFnB,YAAY,CAAC;AACdoB,IAAAA,YAAY,EAAE,uBADA;AAEdC,IAAAA,SAAS,EAAE;AAFG,GAAD,CADV;AAKL;;;AAGAC,IAAAA,iBARK,+BAQgB;AAAA;;AACnB,WAAKF,YAAL;;AACA,UAAI,KAAKN,YAAT,EAAuB;AACrBS,QAAAA,UAAU,CAAC,YAAM;AACf,cAAI,MAAI,CAACC,KAAL,CAAWC,WAAf,EAA4B;AAC1B,YAAA,MAAI,CAACD,KAAL,CAAWC,WAAX,CAAuBC,KAAvB;AACD;AACF,SAJS,EAIP,GAJO,CAAV;AAKD;AACF,KAjBI;AAkBLlB,IAAAA,eAlBK,6BAkBc;AAAA;;AACjB,UAAI,CAAC,KAAKM,YAAV,EAAwB;AACtB,aAAKO,SAAL,CAAe,IAAf;AACAE,QAAAA,UAAU,CAAC,YAAM;AACf,cAAI,MAAI,CAACC,KAAL,CAAWC,WAAf,EAA4B;AAC1B,YAAA,MAAI,CAACD,KAAL,CAAWC,WAAX,CAAuBC,KAAvB;AACD;AACF,SAJS,EAIP,GAJO,CAAV;AAKD;AACF,KA3BI;AA4BL;AACAhB,IAAAA,gBA7BK,8BA6Be;AAClB,UAAI,KAAKI,YAAT,EAAuB;AACrB,aAAKO,SAAL,CAAe,KAAf;AACD;AACF;AAjCI;AA1BM,CAAf","sourcesContent":["import { mapState, mapMutations } from 'vuex'\r\n\r\nimport hotkeys from 'hotkeys-js'\r\n\r\nexport default {\r\n  components: {\r\n    'd2-panel-search': () => import('../components/panel-search')\r\n  },\r\n  mounted () {\r\n    // 绑定搜索功能快捷键 [ 打开 ]\r\n    hotkeys(this.searchHotkey.open, event => {\r\n      event.preventDefault()\r\n      this.searchPanelOpen()\r\n    })\r\n    // 绑定搜索功能快捷键 [ 关闭 ]\r\n    hotkeys(this.searchHotkey.close, event => {\r\n      event.preventDefault()\r\n      this.searchPanelClose()\r\n    })\r\n  },\r\n  beforeDestroy () {\r\n    hotkeys.unbind(this.searchHotkey.open)\r\n    hotkeys.unbind(this.searchHotkey.close)\r\n  },\r\n  computed: {\r\n    ...mapState('d2admin', {\r\n      searchActive: state => state.search.active,\r\n      searchHotkey: state => state.search.hotkey\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      searchToggle: 'd2admin/search/toggle',\r\n      searchSet: 'd2admin/search/set'\r\n    }),\r\n    /**\r\n     * 接收点击搜索按钮\r\n     */\r\n    handleSearchClick () {\r\n      this.searchToggle()\r\n      if (this.searchActive) {\r\n        setTimeout(() => {\r\n          if (this.$refs.panelSearch) {\r\n            this.$refs.panelSearch.focus()\r\n          }\r\n        }, 500)\r\n      }\r\n    },\r\n    searchPanelOpen () {\r\n      if (!this.searchActive) {\r\n        this.searchSet(true)\r\n        setTimeout(() => {\r\n          if (this.$refs.panelSearch) {\r\n            this.$refs.panelSearch.focus()\r\n          }\r\n        }, 500)\r\n      }\r\n    },\r\n    // 关闭搜索面板\r\n    searchPanelClose () {\r\n      if (this.searchActive) {\r\n        this.searchSet(false)\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}]}