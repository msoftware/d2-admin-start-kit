{"remainingRequest":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\babel-loader\\lib\\index.js!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Projekte\\vue-admin\\d2-admin-start-kit\\src\\layout\\header-aside\\components\\menu-side\\index.js","dependencies":[{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\src\\layout\\header-aside\\components\\menu-side\\index.js","mtime":1593435051124},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592891886067},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\babel-loader\\lib\\index.js","mtime":1592891886030},{"path":"C:\\Projekte\\vue-admin\\d2-admin-start-kit\\node_modules\\eslint-loader\\index.js","mtime":1592891895300}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovUHJvamVrdGUvdnVlLWFkbWluL2QyLWFkbWluLXN0YXJ0LWtpdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBtZW51TWl4aW4gZnJvbSAnLi4vbWl4aW4vbWVudSc7CmltcG9ydCB7IGNyZWF0ZU1lbnUgfSBmcm9tICcuLi9saWJzL3V0aWwubWVudSc7CmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2QyLWxheW91dC1oZWFkZXItYXNpZGUtbWVudS1zaWRlJywKICBtaXhpbnM6IFttZW51TWl4aW5dLAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIGgoImRpdiIsIHsKICAgICAgImNsYXNzIjogImQyLWxheW91dC1oZWFkZXItYXNpZGUtbWVudS1zaWRlIgogICAgfSwgW2goImVsLW1lbnUiLCB7CiAgICAgICJhdHRycyI6IHsKICAgICAgICAiY29sbGFwc2UiOiB0aGlzLmFzaWRlQ29sbGFwc2UsCiAgICAgICAgImNvbGxhcHNlVHJhbnNpdGlvbiI6IHRoaXMuYXNpZGVUcmFuc2l0aW9uLAogICAgICAgICJ1bmlxdWVPcGVuZWQiOiB0cnVlLAogICAgICAgICJkZWZhdWx0QWN0aXZlIjogdGhpcy4kcm91dGUuZnVsbFBhdGgKICAgICAgfSwKICAgICAgInJlZiI6ICJtZW51IiwKICAgICAgIm9uIjogewogICAgICAgICJzZWxlY3QiOiB0aGlzLmhhbmRsZU1lbnVTZWxlY3QKICAgICAgfQogICAgfSwgW3RoaXMuYXNpZGUubWFwKGZ1bmN0aW9uIChtZW51KSB7CiAgICAgIHJldHVybiBjcmVhdGVNZW51LmNhbGwoX3RoaXMsIGgsIG1lbnUpOwogICAgfSldKSwgdGhpcy5hc2lkZS5sZW5ndGggPT09IDAgJiYgIXRoaXMuYXNpZGVDb2xsYXBzZSA/IGgoImRpdiIsIHsKICAgICAgImNsYXNzIjogImQyLWxheW91dC1oZWFkZXItYXNpZGUtbWVudS1lbXB0eSIsCiAgICAgICJhdHRycyI6IHsKICAgICAgICAiZmxleCI6ICJkaXI6dG9wIG1haW46Y2VudGVyIGNyb3NzOmNlbnRlciIKICAgICAgfQogICAgfSwgW2goImQyLWljb24iLCB7CiAgICAgICJhdHRycyI6IHsKICAgICAgICAibmFtZSI6ICJpbmJveCIKICAgICAgfQogICAgfSksIGgoInNwYW4iLCBbIlx1NkNBMVx1NjcwOVx1NEZBN1x1NjgwRlx1ODNEQ1x1NTM1NSJdKV0pIDogbnVsbF0pOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFzaWRlSGVpZ2h0OiAzMDAsCiAgICAgIEJTOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdkMmFkbWluL21lbnUnLCBbJ2FzaWRlJywgJ2FzaWRlQ29sbGFwc2UnLCAnYXNpZGVUcmFuc2l0aW9uJ10pKSwKICB3YXRjaDogewogICAgLy8g5oqY5Y+g5ZKM5bGV5byA6I+c5Y2V55qE5pe25YCZ6ZSA5q+BIGJldHRlciBzY3JvbGwKICAgIGFzaWRlQ29sbGFwc2U6IGZ1bmN0aW9uIGFzaWRlQ29sbGFwc2UodmFsKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zY3JvbGxEZXN0cm95KCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5zY3JvbGxJbml0KCk7CiAgICAgIH0sIDUwMCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zY3JvbGxJbml0KCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5zY3JvbGxEZXN0cm95KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzY3JvbGxJbml0OiBmdW5jdGlvbiBzY3JvbGxJbml0KCkgewogICAgICB0aGlzLkJTID0gbmV3IEJTY3JvbGwodGhpcy4kZWwsIHsKICAgICAgICBtb3VzZVdoZWVsOiB0cnVlLAogICAgICAgIGNsaWNrOiB0cnVlIC8vIOWmguaenOS9oOaEv+aEj+WPr+S7peaJk+W8gOaYvuekuua7muWKqOadoQogICAgICAgIC8vIHNjcm9sbGJhcjogewogICAgICAgIC8vICAgZmFkZTogdHJ1ZSwKICAgICAgICAvLyAgIGludGVyYWN0aXZlOiBmYWxzZQogICAgICAgIC8vIH0KCiAgICAgIH0pOwogICAgfSwKICAgIHNjcm9sbERlc3Ryb3k6IGZ1bmN0aW9uIHNjcm9sbERlc3Ryb3koKSB7CiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kMi1wcm9qZWN0cy9kMi1hZG1pbi9pc3N1ZXMvNzUKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLkJTLmRlc3Ryb3koKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGRlbGV0ZSB0aGlzLkJTOwogICAgICAgIHRoaXMuQlMgPSBudWxsOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:/Projekte/vue-admin/d2-admin-start-kit/src/layout/header-aside/components/menu-side/index.js"],"names":["mapState","menuMixin","createMenu","BScroll","name","mixins","render","h","asideCollapse","asideTransition","$route","fullPath","handleMenuSelect","aside","map","menu","call","length","data","asideHeight","BS","computed","watch","val","scrollDestroy","setTimeout","scrollInit","mounted","beforeDestroy","methods","$el","mouseWheel","click","destroy","e"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,MAAzB;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,OAAOC,OAAP,MAAoB,eAApB;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAE,kCADO;AAEbC,EAAAA,MAAM,EAAE,CACNJ,SADM,CAFK;AAKbK,EAAAA,MALa,kBAKLC,CALK,EAKF;AAAA;;AACT;AAAA,eAAkB;AAAlB;AAAA;AAAA,oBAEe,KAAKC,aAFpB;AAAA,8BAGyB,KAAKC,eAH9B;AAAA,wBAImB,IAJnB;AAAA,yBAKoB,KAAKC,MAAL,CAAYC;AALhC;AAAA,aAMQ,MANR;AAAA;AAAA,kBAOe,KAAKC;AAPpB;AAAA,QAQM,KAAKC,KAAL,CAAWC,GAAX,CAAe,UAAAC,IAAI;AAAA,aAAIb,UAAU,CAACc,IAAX,CAAgB,KAAhB,EAAsBT,CAAtB,EAAyBQ,IAAzB,CAAJ;AAAA,KAAnB,CARN,IAWI,KAAKF,KAAL,CAAWI,MAAX,KAAsB,CAAtB,IAA2B,CAAC,KAAKT,aAAjC;AAAA,eACe,mCADf;AAAA;AAAA,gBACwD;AADxD;AAAA;AAAA;AAAA,gBAEkB;AAFlB;AAAA,gEAKI,IAhBR;AAmBD,GAzBY;AA0BbU,EAAAA,IA1Ba,kBA0BL;AACN,WAAO;AACLC,MAAAA,WAAW,EAAE,GADR;AAELC,MAAAA,EAAE,EAAE;AAFC,KAAP;AAID,GA/BY;AAgCbC,EAAAA,QAAQ,oBACHrB,QAAQ,CAAC,cAAD,EAAiB,CAC1B,OAD0B,EAE1B,eAF0B,EAG1B,iBAH0B,CAAjB,CADL,CAhCK;AAuCbsB,EAAAA,KAAK,EAAE;AACL;AACAd,IAAAA,aAFK,yBAEUe,GAFV,EAEe;AAAA;;AAClB,WAAKC,aAAL;AACAC,MAAAA,UAAU,CAAC,YAAM;AACf,QAAA,MAAI,CAACC,UAAL;AACD,OAFS,EAEP,GAFO,CAAV;AAGD;AAPI,GAvCM;AAgDbC,EAAAA,OAhDa,qBAgDF;AACT,SAAKD,UAAL;AACD,GAlDY;AAmDbE,EAAAA,aAnDa,2BAmDI;AACf,SAAKJ,aAAL;AACD,GArDY;AAsDbK,EAAAA,OAAO,EAAE;AACPH,IAAAA,UADO,wBACO;AACZ,WAAKN,EAAL,GAAU,IAAIjB,OAAJ,CAAY,KAAK2B,GAAjB,EAAsB;AAC9BC,QAAAA,UAAU,EAAE,IADkB;AAE9BC,QAAAA,KAAK,EAAE,IAFuB,CAG9B;AACA;AACA;AACA;AACA;;AAP8B,OAAtB,CAAV;AASD,KAXM;AAYPR,IAAAA,aAZO,2BAYU;AACf;AACA,UAAI;AACF,aAAKJ,EAAL,CAAQa,OAAR;AACD,OAFD,CAEE,OAAOC,CAAP,EAAU;AACV,eAAO,KAAKd,EAAZ;AACA,aAAKA,EAAL,GAAU,IAAV;AACD;AACF;AApBM;AAtDI,CAAf","sourcesContent":["import { mapState } from 'vuex'\r\nimport menuMixin from '../mixin/menu'\r\nimport { createMenu } from '../libs/util.menu'\r\nimport BScroll from 'better-scroll'\r\n\r\nexport default {\r\n  name: 'd2-layout-header-aside-menu-side',\r\n  mixins: [\r\n    menuMixin\r\n  ],\r\n  render (h) {\r\n    return <div class=\"d2-layout-header-aside-menu-side\">\r\n      <el-menu\r\n        collapse={ this.asideCollapse }\r\n        collapseTransition={ this.asideTransition }\r\n        uniqueOpened={ true }\r\n        defaultActive={ this.$route.fullPath }\r\n        ref=\"menu\"\r\n        onSelect={ this.handleMenuSelect }>\r\n        { this.aside.map(menu => createMenu.call(this, h, menu)) }\r\n      </el-menu>\r\n      {\r\n        this.aside.length === 0 && !this.asideCollapse\r\n          ? <div class=\"d2-layout-header-aside-menu-empty\" flex=\"dir:top main:center cross:center\">\r\n            <d2-icon name=\"inbox\"></d2-icon>\r\n            <span>没有侧栏菜单</span>\r\n          </div>\r\n          : null\r\n      }\r\n    </div>\r\n  },\r\n  data () {\r\n    return {\r\n      asideHeight: 300,\r\n      BS: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('d2admin/menu', [\r\n      'aside',\r\n      'asideCollapse',\r\n      'asideTransition'\r\n    ])\r\n  },\r\n  watch: {\r\n    // 折叠和展开菜单的时候销毁 better scroll\r\n    asideCollapse (val) {\r\n      this.scrollDestroy()\r\n      setTimeout(() => {\r\n        this.scrollInit()\r\n      }, 500)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.scrollInit()\r\n  },\r\n  beforeDestroy () {\r\n    this.scrollDestroy()\r\n  },\r\n  methods: {\r\n    scrollInit () {\r\n      this.BS = new BScroll(this.$el, {\r\n        mouseWheel: true,\r\n        click: true\r\n        // 如果你愿意可以打开显示滚动条\r\n        // scrollbar: {\r\n        //   fade: true,\r\n        //   interactive: false\r\n        // }\r\n      })\r\n    },\r\n    scrollDestroy () {\r\n      // https://github.com/d2-projects/d2-admin/issues/75\r\n      try {\r\n        this.BS.destroy()\r\n      } catch (e) {\r\n        delete this.BS\r\n        this.BS = null\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}]}